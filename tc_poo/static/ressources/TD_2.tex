\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}

\usepackage[pdftex,a4paper,bookmarks]{hyperref}
\usepackage{fullpage}


\usepackage{url}
\usepackage{listings}
\usepackage{courier}
\lstset{basicstyle=\ttfamily}


\begin{document}


    \begin{center}
      \begin{tabular}{c}
      \hline
    \\
        {\bf \textsf {\Large Programmation Orientée Objet}}\\
    \\
        {\bf \textsf {\Large TD 2 : Programmation évènementielle \& UI}}\\
    \\
        \hline
      \end{tabular}
    \end{center}
    \vspace{15mm}

\section{Fonctions et namespaces}

\subsection{Les fonctions sont des variables comme les autres}


\lstset{language=Python}
\begin{lstlisting}
une_liste = []
truc = une_liste.append

truc("?")

print(une_liste)
\end{lstlisting}




Dans le code ci-dessus, que représente \verb|append|~?
Exécutez-le  en montrant toutes les lignes de codes et les {\em namespaces} utilisés.


\subsection{Fonctions de fonction}

On souhaite créer une fonction \verb|ajoute| avec un paramètre (entier) \verb|x|. Le retour de cette fonction doit être une fonction à un paramètre \verb|y| qui rend \verb|x + y|

\subsubsection{Tests}

Comment testeriez vous cette fonction~?

\subsubsection{Implémentation}

Codez cette fonction et vérifiez (à la main) qu'elle passe bien vos tests en notant toutes les variables et les namespaces rencontrés.

\section{Programmation d'UI}

On veut créer une fenêtre contenant un champ texte de valeur initiale 0 et un bouton. Lorsque l'on clique sur le bouton, la valeur du texte augmente de 1.

\subsection{Design}

Proposez un design de fenêtre permettant de réaliser cette interface.
Comment la testeriez-vous~?

\subsection{Modèle MVC}

Un façon pratique de développer une interface est d'utiliser le modèle MVC (Modèle, Vue, Contrôleur) :
\begin{itemize}
	\item le {\bf Modèle} régit l'accès aux données
  \item la {\bf Vue} est tout ce qui est affiché
  \item {\bf Contrôleur} est ce qui fait le lien entre Vue et Modèle

\end{itemize}


Proposez un modèle UML en 3 classes (Modèle, Vue et Contrôleur) permettant de réaliser cette application.

Comment la testeriez-vous avec des tests unitaires ?

\subsection{MVC et appjar.info}

Le code suivant utilise la bibliothèque \url{appjar.info} pour coder l'UI.

\lstset{language=Python}
\begin{lstlisting}
from appJar import gui

model = {
    "value": 0
}

def press(button):
    model["value"] += 1
    app.setLabel("value", str(model["value"]))

app = gui()
app.addLabel("value", str(model["value"]), 0, 0)
app.addButton("+1", press, 0, 1)

app.go()
print("c'est fini.")
\end{lstlisting}

Associez le code ci-dessus au modèle MVC. Où sont les différentes parties ? 


\subsection{Ajout de boutons}

Ajoutez à  l'application un bouton `-1' qui décrémente la valeur affichée de 1 si cette valeur est $>0$.


\end{document}


%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
